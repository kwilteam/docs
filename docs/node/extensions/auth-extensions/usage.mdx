---
sidebar_position: 2
sidebar_label: "Usage"
id: auth-ext-usage
title: Using an Authentication Extension
description: How to use an authentication extension in a client application
slug: /extensions/authentication/usage
---

To use an authentication extension in a client application, the Kwil node you are using must have been compiled with the extension.

To learn how to compile a Kwil node with an extension, refer to the [extension build quickstart](/docs/extensions/quickstart) guide.

## Example

As an example, will refer to the `ed25519_example` extension from the [previous section](/docs/extensions/authentication/overview). This extension allows users to sign for Kwil transactions using an Ed25519 key pair.

## Using the Extension with kwil-js

:::note
`kwil-js` is the only client library that currently supports authentication extensions. The `kwil-cli` only supports ECDSA Secp256k1 signatures.
:::

[`kwil-js`](/docs/sdks/js-ts/overview) is a JavaScript/Typescript client library for interacting with Kwil nodes.

```bash
npm i @kwilteam/kwil-js
```

### Create KwilSigner instance

In `kwil-js` the `KwilSigner` class is used to sign transactions:

```typescript title="index.ts"
class KwilSigner {
    constructor(signer: (msg: Uint8Array, ...args: any[]) => Promise<Uint8Array>, publicKey: HexString | Uint8Array, signatureType: SignatureType): KwilSigner
}
```

- `signer` is a callback function that takes a message and returns a signature.
- `publicKey` is the public key of the signer. It can be passed as a hex string or a Uint8Array.
- `signatureType` is the name of the signature extension. This is the `name` that is passed to the [`RegisterExtension`](/docs/extensions/actions/overview#registerextension) function in the extension.

To use the `ed25519_example` extension, you would use the `KwilSigner` class like this:

```typescript title="edSigner.ts"
import { KwilSigner } from '@kwilteam/kwil-js';
import nacl from 'tweetnacl';

// create keypair
const keys = nacl.sign.keyPair(); // Generate a key pair, or load an existing one

// create a signer callback function
const signatureCb = async (msg: Uint8Array) => {
    return nacl.sign(msg, keys.secretKey);
}

// create a KwilSigner instance, passing the signature callback, public key, and extension name
export const ed25519Signer = new KwilSigner(signatureCb, keys.publicKey, 'ed25519_example');
```

### Use KwilSigner to sign transactions

Once you have a `KwilSigner` instance, you can use it to sign transactions with the standard `kwil-js` APIs. The `KwilSigner` can be passed to any API that requires a signer.

```typescript title="index.ts"
import { WebKwil } from '@kwilteam/kwil-js';
import { ed25519Signer } from './edSigner';

const kwil = new WebKwil({
    kwilProvider: "https://some_provider",
    chainId: "some_kwil_chain"
});

// deploy database
await kwil.deploy( deployBody, ed25519Signer );

// execuite action
await kwil.execute( actionBody, ed25519Signer );

// drop database
await kwil.drop( dropBody, ed25519Signer );
```

## Next Steps

- [Full Authentication Extension Tutorial](/docs/extensions/authentication/tutorial) - Learn how to build, compile, and use an authentication extension in a Kwil network.
