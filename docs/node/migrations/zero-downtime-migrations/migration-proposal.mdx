---
sidebar_position: 1
sidebar_label: "Migration Proposal"
id: migration-proposal
title: Migration Proposal
description: "Network governance proposal to trigger a network migration"
slug: /node/migrations/zero-downtime-migrations/migration-proposal
---

A network migration is proposed by a validator using a special network governance resolution. The migration proposal includes the activation period, duration, and the chain ID of the new network as shown below.

- `ActivationPeriod`: The amount of blocks before the migration is activated. It starts after the migration is approved via the voting system. The intention is to allow validators to prepare for the migration.
- `Duration`: The amount of blocks the migration will take to complete.
- `ChainID`: The new chain ID that the network will migrate to. A new chain ID should always be used for a new network to avoid cross-network replay attacks.
- `Timestamp`: The time at which the migration was proposed.

The Migration proposal needs to be approved by atleast 2/3rd of the validators to start the migration process. The migration proposal will expire if the supermajority of the validators do not approve the proposal within `100800` blocks (roughly 7 days with a 6sec block interval). Once the migration proposal is approved, the network moves into migration mode after the specified activation period.

## Submit Migration Proposal

A validator operator can submit a migration proposal to upgrade the network using the `kwil-admin migrate propose` command as shown below. Refer to the [kwil-admin migrate](/docs/ref/kwil-admin/migration/propose) documentation for more details.

```bash
kwil-admin migrate propose --activation-period <activationPeriod> --duration <migrationDuration> --chain-id <newChainID> --rpcserver /tmp/kwil.sock
```

:::note
An off-chain communication is required among the validator operators to decide on the details of the migration proposal. One of the validators should submit the proposal to the network for approval. Only one proposal can be applied to the network during the lifetime of the network. Once the proposal is approved, all the other migration proposals will be rejected from the network and no new proposals can be submitted or approved.
:::

To check if the proposal is submitted successfully, we can get the list of pending migration proposals as shown below:

```bash
kwil-admin migration list --rpcserver /tmp/kwild.socket
```
This list will contain the proposal ID which is used by the validators to vote on the proposal.


## Approve Migration Proposal

To start the migration, the migration proposal needs the approval from at least a supermajority of the validators. The validators can submit their vote approval on the migration proposal using the below command.

```bash
kwil-admin migration approve <proposal-id>
```

Operators can check the status of the proposal and the votes information as shown below:

```bash
kwil-admin migration status <proposal-id>
```

:::note
The migration proposal will get expired if the supermajority of the validators do not approve the proposal within `100800` blocks (roughly 7 days with a 6sec block interval). The proposal can be resubmitted after the expiration.
:::

Once the proposal is approved, migration is set to start after the specified activation period from the approval block. Refer [Migration Phases ](/docs/node/migrations/zero-downtime-migrations/existing-network-during-migration) and [State Replication](/docs/node/migrations/zero-downtime-migrations/state-replication) documentation for more details on the migration process on the old and new networks respectively.
