---
sidebar_position: 2
sidebar_label: "Network Setup"
id: daemon-network-setup
title: Network Setup
description: Running Kwil Network
slug: /daemon/network/setup
---

This guide provides a step-by-step instruction on preparing a setup to deploy a kwil network with N validator nodes and M non-validator nodes

#### Generating config for the N+M nodes

testnet utils command can be used to generate node for testnet deployments.

For example, Configuration required to deploy a network with 1 Validator node and 1 Non-Validator node can be generated as below.
```
kwild testnet -v 2 -n 1 -o ./outputdir --populate-persistent-peers --hostname '192.168.10.10' --hostname: '192.168.10.20' --hostname: '192.168.10.30'
```
If the IP addresses are not consecutive, provide explicit ip addresses using --hostname as shown in the above command. 
If the ip addresses of these nodes are consecutive, you can instead use the starting-ip-address flag as follows:

```
kwild testnet -v 2 -n 1 -o ./outputdir --populate-persistent-peers --starting-ip-address '192.168.10.10'
```

This command would generate 3 directories with required configuration files (config.toml and genesis.json)
using --populate-persistent-peers also populates the persistent_peers config in the config.toml file in all the directories

Genesis file is populated with the 2 nodes pre-established as Validators. 


#### Deploying the kwild network

1. Generate the configuration locally for N + M nodes as shown above using the testnet cmdline utility
2. Move the node directories to corresponding node devices
3. Start the server on all the nodes by running the command:
    ```
    kwild server start --config "path-to-config.toml"
    ```
