---
sidebar_position: 2
sidebar_label: "Network Setup"
id: daemon-network-setup
title: Network Setup
description: Running Kwil Network
slug: /daemon/network/setup
---

This guide provides a step-by-step instructions on preparing a setup to deploy a kwild network with N validator nodes and M non-validator nodes

#### Generating config for the N Validator + M Non-Validator nodes

testnet utils command can be used to generate node for testnet deployments.

For example, Configuration required to deploy a network with N=2 Validator nodes and M=1 Non-Validator node can be generated as below.
```bash
kwild testnet -v 2 -n 1 -o "path/to/output/dir" --populate-persistent-peers --hostname '192.168.10.10' --hostname: '192.168.10.20' --hostname: '192.168.10.30'
```
If the IP addresses are not consecutive, provide explicit ip addresses using --hostname as shown in the above command. 
If the ip addresses of these nodes are consecutive, you can instead use the starting-ip-address flag as follows:

```bash
kwild testnet -v 2 -n 1 -o "path/to/output/dir" --populate-persistent-peers --starting-ip-address '192.168.10.10'
```

This command would generate 3 directories under `"path/to/output/dir"` with required configuration files (config.toml and genesis.json)
and enabling the `--populate-persistent-peers` flag populates the persistent_peers config in the config.toml file in all the directories based on the ip addresses configured using either `--hostname`  or the `--starting-ip-address` flag

The Genesis file's initial validator list in this example would be populated with the 2 validator nodes info.


#### Deploying the kwild network

1. Generate the configuration locally for N + M nodes as shown above using the testnet cmdline utility
2. Move the node directories to corresponding node devices
3. Start the server on all the nodes by running the command:
    ```bash
    kwild server start --config "path/to/node/idx/config.toml"
    ```
