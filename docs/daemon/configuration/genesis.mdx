---
sidebar_position: 2
sidebar_label: "Genesis"
id: daemon-genesis
title: Genesis Configuration
description: Genesis specification
slug: /daemon/genesis
---

A Genesis file defines the initial state and parameters needed to bootstrap a new blockchain network. It serves as the starting point for the entire blockchain system by defining key aspects of the network, including its initial validators, initial height, consensus rules, and more. All the nodes in the network need to have the same genesis file to start with the same initial conditions. Any discrepancies or errors in the genesis file could prohibit the node either from joining the network or from producing blocks.

## Genesis file with minimal configuration

Here is an example of a genesis.json file with minimal configuration:

```json title="sample genesis.json file"
{
  "genesis_time": "2023-08-28T22:24:04.513472Z",
  "chain_id": "kwil-chain-RQMl2F",
  "initial_height": "0",
  "validators": [
    {
      "address": "6F129A1818CB42DD80FFE51943EAC0BC9FF9E4EE",
      "pub_key": {
        "type": "tendermint/PubKeyEd25519",
        "value": "L737LDRTYv7P5I2apSxOBwJD3U0CS7b2eo9K37s2lPM="
      },
      "power": "1",
      "name": "validator-0"
    }
  ],
  "app_hash": "4F8735846B8CFB01A277430A392DD3DB7B66510C358C5F4A2AF88A348CB20A62"
}
```

## Genesis file contents

A Genesis file essentially consists of:

### Genesis time

 `genesis_time`: This field specifies the official time at which the blockchain is initialized.

### Chain ID

 `chain_id`: This field specifies the ID of the blockchain network. This must be unique for every blockchain. The ChainID must be less than 50 symbols.

### Initial height

 `initial_height`: This field sets the initial height the blockchain should begin.  `Default value is 0`, but in the scenario of network upgrade or restart, starting from the stopped height ensures uniqueness to previous heights.

### Genesis Validators

 `validators`: This field sets the list of the initial set of validators. Each validator should provide the below information:
  - `pub_key`: consisting of key types and public key bytes.
  - `address`: address of the pub_key
  - `power`: The validatorâ€™s voting power, `default: 1`. Power 0 indicates that the node is a non-validator.

Cryptographic keys for a kwild node can be generated and viewed using the `kwil-admin key` command line utility as shown below. 

```bash
# Generate private key
kwil-admin key gen -o "path/to/private/key/file"

# View Generated key info
kwil-admin key info -k "path/to/private/key/file"
```

### Initial app_hash

 `app_hash`: The app_hash represents the initial application state. If the node is booting up with initial data, the app_hash of the genesis file can be initialized by running the below command. 

  ```bash
  kwil-admin setup genesis-hash "path/to/initial/db/dir" -g "path/to/my/genesis.json"
  ```

  If `--genesis or -g` is not provided, the command would stdout the app_hash. 

## Advanced Configurations

### Consensus Params

Genesis file can also be used to establish a predefined set of consensus rules such as:
#### Block rules:

  - `block`: 
      - `max_bytes`: This field specifies the maximum block size, in bytes.
      - `max_height`: This field specifies the maximum gas per block.

#### Validator type:

  - `validator`:
    -  `pub_key_types`: This field sets the public key types validators can use.
    -  `join_expiry`: This field sets the number of blocks after which the validator join request expires if not approved. The default expiry is 86400 blocks which is equivalent to 1 day if blocks are produced at the rate of 1 block/sec

#### ABCI app Version:

  - `version`:
    - `app_version`: This field sets the ABCI application version. If an ABCI application is running a different version leads to consensus failures. 

#### Block evidence:

  - `evidence`:
      - `max_age_num_blocks`: This field sets the maximum age of evidence, in blocks. The basic formula for calculating this is MaxAgeDuration / {average block time}.
      - `max_age_duration`: This field sets the maximum age of evidence, in time.
      - `max_bytes`: This field sets the maximum size in bytes of evidence that can be committed in a single block and should fall comfortably under the max block bytes.

#### General

  - `without_nonces`: This field sets whether nonces should be enabled for the transactions. By default, nonces are enabled for the transactions.

  - `without_gas_costs`:  This field sets whether gas costs should be enabled for the transactions. By default, gas costs are disabled, resulting in no fees incurred for each transaction.

## Complete genesis file

Here is an example of a Genesis file with complete configuration

```json title="sample genesis.json file"
{
  "genesis_time": "2023-08-28T22:24:04.513472Z",
  "chain_id": "kwil-chain-RQMl2F",
  "initial_height": "0",
  "consensus_params": {
    "block": {
      "max_bytes": "22020096",
      "max_gas": "-1"
    },
    "evidence": {
      "max_age_num_blocks": "100000",
      "max_age_duration": "172800000000000",
      "max_bytes": "1048576"
    },
    "validator": {
      "pub_key_types": [
        "ed25519"
      ],
      "join_expiry": "86400"
    },
    "version": {
      "app": "0"
    },
    "without_gas_costs": true,
    "without_nonces": false
  },
  "validators": [
    {
      "address": "6F129A1818CB42DD80FFE51943EAC0BC9FF9E4EE",
      "pub_key": {
        "type": "tendermint/PubKeyEd25519",
        "value": "L737LDRTYv7P5I2apSxOBwJD3U0CS7b2eo9K37s2lPM="
      },
      "power": "1",
      "name": "validator-0"
    }
  ],
  "app_hash": "4F8735846B8CFB01A277430A392DD3DB7B66510C358C5F4A2AF88A348CB20A62"
}
```